{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-pdf-ingest",
  "type": "registry:block",
  "description": "",
  "dependencies": [
    "@ai-sdk/react"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "page.tsx",
      "type": "registry:page",
      "target": "page.tsx",
      "content": "\"use client\"\n\nimport { useChat } from \"@ai-sdk/react\"\nimport { useState } from \"react\"\n\nexport default function PDFAnalysis() {\n  const { messages, input, handleInputChange, handleSubmit } = useChat()\n  const [file, setFile] = useState<File | null>(null)\n\n  async function handleFileUpload(e: React.ChangeEvent<HTMLInputElement>) {\n    const f = e.target.files?.[0]\n    if (!f) return\n    setFile(f)\n  }\n\n  async function onSubmit(e: React.FormEvent) {\n    e.preventDefault()\n    if (!file) return\n\n    const formData = new FormData()\n    formData.append(\"file\", file)\n    formData.append(\"prompt\", input || \"Summarize this PDF\")\n\n    handleSubmit(e, {\n      experimental_attachments: [\n        {\n          name: file.name,\n          contentType: file.type,\n          url: URL.createObjectURL(file),\n        },\n      ],\n    })\n  }\n\n  return (\n    <div className=\"mx-auto flex h-screen max-w-xl flex-col\">\n      <div className=\"flex-1 overflow-y-auto p-4\">\n        {messages.map((m) => (\n          <div key={m.id} className=\"mb-4 text-sm\">\n            <p className=\"text-xs font-medium text-muted-foreground\">\n              {m.role}\n            </p>\n            <p className=\"mt-1\">{m.content}</p>\n          </div>\n        ))}\n      </div>\n      <form onSubmit={onSubmit} className=\"border-t p-4\">\n        <input type=\"file\" accept=\".pdf\" onChange={handleFileUpload} />\n        <div className=\"mt-2 flex gap-2\">\n          <input\n            value={input}\n            onChange={handleInputChange}\n            placeholder=\"Ask about the PDF...\"\n            className=\"flex-1 rounded-md border px-3 py-2 text-sm\"\n          />\n          <button className=\"rounded-md bg-foreground px-4 py-2 text-sm text-background\">\n            Analyze\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}"
    }
  ]
}